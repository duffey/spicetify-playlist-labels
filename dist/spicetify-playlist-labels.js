!async function(){for(;!Spicetify.React||!Spicetify.ReactDOM;)await new Promise(e=>setTimeout(e,10));var n,s,c,p,u,d,e,t,l,f,y,m,v,i,a,r,g,b,h,o,w,S;n=Object.create,s=Object.defineProperty,c=Object.getOwnPropertyDescriptor,p=Object.getOwnPropertyNames,u=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,l=(e=(e,t)=>function(){return t||(0,e[p(e)[0]])((t={exports:{}}).exports,t),t.exports})({"external-global-plugin:react-dom"(e,t){t.exports=Spicetify.ReactDOM}}),f=(t=(e,t,l)=>{l=null!=e?n(u(e)):{};var i=!t&&e&&e.__esModule?l:s(l,"default",{value:e,enumerable:!0}),a=e,r=void 0,o=void 0;if(a&&"object"==typeof a||"function"==typeof a)for(let e of p(a))d.call(i,e)||e===r||s(i,e,{get:()=>a[e],enumerable:!(o=c(a,e))||o.enumerable});return i})(e({"external-global-plugin:react"(e,t){t.exports=Spicetify.React}})()),y=t(l()),g=[],b=[],o=r=a=i=v=m=null,w=!(h={}),S=async function(){for(;null==Spicetify||!Spicetify.showNotification;)await new Promise(e=>setTimeout(e,100));showAllPlaylists=await JSON.parse(localStorage.getItem("spicetify-playlist-labels:show-all")||"false"),await Spicetify.Platform.RootlistAPI._events._emitter.addListener("update",()=>{P().then(e=>{[h,o]=e,w=!0})});var e=`<svg data-encore-id="icon" role="img" viewBox="0 0 16 16" class="Svg-img-icon-small">${Spicetify.SVGIcons.spotify}</svg>`,e=(new Spicetify.Playbar.Button("Show All Saved Playlists",e,e=>{e.active=showAllPlaylists=!e.active,localStorage.setItem("spicetify-playlist-labels:show-all",JSON.stringify(showAllPlaylists)),w=!0,O()},!1,showAllPlaylists),[h,o]=await P(),r=new MutationObserver(()=>{O()}),new MutationObserver(async()=>{await A()}));await A(),e.observe(document.body,{childList:!0,subtree:!0})},(async()=>{await S()})();function x(e){let l=[];return function t(e){"playlist"===e.type?l.push(e):"folder"===e.type&&e.items&&e.items.forEach(e=>t(e))}(e),l}async function P(){var e=await Spicetify.Platform.RootlistAPI.getContents();const i=x(e);var t=await Promise.all(i.map(e=>async function(e){return(await Spicetify.Platform.PlaylistAPI.getContents(e)).items}(e.uri)));const a={};return t.forEach((e,l)=>{e.forEach(e=>{var t=e.uri;a[t]||(a[t]=[]),a[t].some(e=>e.uri===i[l].uri)||a[t].push({uri:i[l].uri,name:i[l].name,trackUid:e.uid,image:(null==(t=i[l].images[0])?void 0:t.url)||"",isOwnPlaylist:i[l].isOwnedBySelf})})}),[a,e]}function O(){b=g;let t=(g=Array.from(document.querySelectorAll(".main-trackList-indexable"))).length!==b.length;for(let e=0;e<g.length;e++)g[e].isEqualNode(b[e])||(t=!0);t&&(v=m=null);const l=[null,null,null,null,"[index] 16px [first] 4fr [var1] 1fr [var2] 2fr [last] minmax(120px,1fr)","[index] 16px [first] 6fr [var1] 4fr [var2] 3fr [var3] 4fr [last] minmax(120px,1fr)","[index] 16px [first] 6fr [var1] 4fr [var2] 3fr [var3] minmax(120px,2fr) [var3] 2fr [last] minmax(120px,1fr)"];let i=null;document.querySelectorAll(".main-trackList-trackListHeaderRow").forEach(e=>{var t=e.querySelector(".main-trackList-rowSectionEnd"),t=parseInt(t.getAttribute("aria-colindex"));(m=m||getComputedStyle(e).gridTemplateColumns)&&l[t]&&(e.style.setProperty("grid-template-columns",l[t],"important"),i=l[t])});for(const e of g){for(const n of e.getElementsByClassName("main-trackList-trackListRow")){a=n,o=void 0;var a,r,o=(a=Object.values(a))?(null==(o=null==(a=null==(a=null==(a=null==(a=null==(a=a[0])?void 0:a.pendingProps)?void 0:a.children[0])?void 0:a.props)?void 0:a.children)?void 0:a.props)?void 0:o.uri)||(null==(o=null==(o=null==(o=null==a?void 0:a.props)?void 0:o.children)?void 0:o.props)?void 0:o.uri)||(null==(o=null==(o=null==(o=null==(o=null==(o=null==a?void 0:a.props)?void 0:o.children)?void 0:o.props)?void 0:o.children)?void 0:o.props)?void 0:o.uri)||(null==(a=null==(o=a[0])?void 0:o.props)?void 0:a.uri):null;let e=n.querySelector(".spicetify-playlist-labels");w&&e&&(e.remove(),e=null),e||(a=n.querySelector(".main-trackList-rowSectionEnd"),r=parseInt(a.getAttribute("aria-colindex")),a.setAttribute("aria-colindex",(r+1).toString()),e=document.createElement("div"),y.default.render(f.default.createElement("div",{className:"spicetify-playlist-labels-labels-container"},null==(o=h[o])?void 0:o.map(e=>{var t;return!showAllPlaylists&&!e.isOwnPlaylist||(t=e.uri.match(/spotify:playlist:(.*)/)[1],Spicetify.Platform.History.location.pathname==="/playlist/"+t)?null:f.default.createElement(Spicetify.ReactComponent.TooltipWrapper,{label:e.name,placement:"top"},f.default.createElement("div",{className:"spicetify-playlist-labels-label-container"},f.default.createElement("img",{src:e.image})))})),e),e.setAttribute("aria-colindex",r.toString()),e.role="gridcell",e.style.display="grid",e.classList.add("main-trackList-rowSectionVariable"),e.classList.add("spicetify-playlist-labels"),n.insertBefore(e,a),v=v||getComputedStyle(n).gridTemplateColumns,l[r]&&n.style.setProperty("grid-template-columns",i||l[r],"important"))}w=!1}}async function A(){i=a,(a=document.querySelector("main"))&&!a.isEqualNode(i)&&(i&&r.disconnect(),O(),r.observe(a,{childList:!0,subtree:!0}))}(async()=>{var e;document.getElementById("spicetifyDplaylistDlabels")||((e=document.createElement("style")).id="spicetifyDplaylistDlabels",e.textContent=String.raw`
  .spicetify-playlist-labels-labels-container{height:var(--row-height);align-items:center;display:flex;overflow:hidden;gap:5px}.spicetify-playlist-labels-label-container{position:relative;height:24px}.spicetify-playlist-labels-label-container>img{width:24px;height:100%;-o-object-fit:cover;object-fit:cover;border-radius:2px}
      `.trim(),document.head.appendChild(e))})()}();