!async function(){for(;!Spicetify.React||!Spicetify.ReactDOM;)await new Promise(t=>setTimeout(t,10));var n,o,c,p,m,u,t,i,e,r,s,a,l,f,d,y,v,b,h,w;n=Object.create,o=Object.defineProperty,c=Object.getOwnPropertyDescriptor,p=Object.getOwnPropertyNames,m=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,e=(t=(t,i)=>function(){return i||(0,t[p(t)[0]])((i={exports:{}}).exports,i),i.exports})({"external-global-plugin:react-dom"(t,i){i.exports=Spicetify.ReactDOM}}),r=(i=(t,i,e)=>{e=null!=t?n(m(t)):{};var a=!i&&t&&t.__esModule?e:o(e,"default",{value:t,enumerable:!0}),l=t,r=void 0,s=void 0;if(l&&"object"==typeof l||"function"==typeof l)for(let t of p(l))u.call(a,t)||t===r||o(a,t,{get:()=>l[t],enumerable:!(s=c(l,t))||s.enumerable});return a})(t({"external-global-plugin:react"(t,i){i.exports=Spicetify.React}})()),s=i(e()),v=y=!(d={}),h=b=f=l=a=null,w=async function(){for(;null==Spicetify||!Spicetify.showNotification;)await new Promise(t=>setTimeout(t,100));v=await JSON.parse(localStorage.getItem("spicetify-playlist-labels:show-all")||"false"),await Spicetify.Platform.RootlistAPI._events._emitter.addListener("update",()=>{g().then(t=>{d=t,y=!0,S()})});var t=`<svg data-encore-id="icon" role="img" viewBox="0 0 16 16" class="Svg-img-icon-small">${Spicetify.SVGIcons.spotify}</svg>`,t=(new Spicetify.Playbar.Button("Show All Saved Playlists",t,t=>{t.active=v=!t.active,localStorage.setItem("spicetify-playlist-labels:show-all",JSON.stringify(v)),y=!0,S()},!1,v),d=await g(),f=new MutationObserver(()=>{S()}),new MutationObserver(async()=>{await k()}));await k(),t.observe(document.body,{childList:!0,subtree:!0})},(async()=>{await w()})();function x(t){let e=[];return function i(t){"playlist"===t.type?e.push(t):"folder"===t.type&&t.items&&t.items.forEach(t=>i(t))}(t),e}async function g(){const a=x(await Spicetify.Platform.RootlistAPI.getContents());var t=await Promise.all(a.map(t=>async function(t){return(await Spicetify.Platform.PlaylistAPI.getContents(t)).items}(t.uri)));const l={};return t.forEach((t,e)=>{t.forEach(t=>{var i=t.uri;l[i]||(l[i]=[]),l[i].some(t=>t.uri===a[e].uri)||l[i].push({uri:a[e].uri,name:a[e].name,trackUid:t.uid,image:(null==(i=a[e].images[0])?void 0:i.url)||"",isOwnPlaylist:a[e].isOwnedBySelf})})}),l}function S(){var i,e;0;for(const t of Array.from(document.querySelectorAll(".main-trackList-indexable"))){for(const a of t.getElementsByClassName("main-trackList-trackListRow")){i=a,e=void 0;const l=(i=Object.values(i))?(null==(e=null==(i=null==(i=null==(i=null==(i=null==(i=i[0])?void 0:i.pendingProps)?void 0:i.children[0])?void 0:i.props)?void 0:i.children)?void 0:i.props)?void 0:e.uri)||(null==(e=null==(e=null==(e=null==i?void 0:i.props)?void 0:e.children)?void 0:e.props)?void 0:e.uri)||(null==(e=null==(e=null==(e=null==(e=null==(e=null==i?void 0:i.props)?void 0:e.children)?void 0:e.props)?void 0:e.children)?void 0:e.props)?void 0:e.uri)||(null==(i=null==(e=i[0])?void 0:e.props)?void 0:i.uri):null;b===l&&Spicetify.Platform.History.location.pathname===h&&(a.click(),b=null);let t=a.querySelector(".spicetify-playlist-labels");y&&t&&(t.remove(),t=null),t||(e=a.querySelector(".main-trackList-rowSectionEnd"),(t=document.createElement("div")).classList.add("spicetify-playlist-labels"),s.default.render(r.default.createElement("div",{className:"spicetify-playlist-labels-labels-container"},null==(i=d[l])?void 0:i.map(i=>{var t;return!v&&!i.isOwnPlaylist||(t=i.uri.match(/spotify:playlist:(.*)/)[1],Spicetify.Platform.History.location.pathname==="/playlist/"+t)?null:r.default.createElement(Spicetify.ReactComponent.TooltipWrapper,{label:i.name,placement:"top"},r.default.createElement("div",{className:"spicetify-playlist-labels-label-container",style:{cursor:"pointer"},onClick:t=>{t.stopPropagation();t=null==(t=Spicetify.URI.fromString(i.uri))?void 0:t.toURLPath(!0);b=l,(h=t)&&Spicetify.Platform.History.push({pathname:t,search:"?uid="+i.trackUid})}},r.default.createElement("img",{src:i.image})))})),t),e.insertBefore(t,e.firstChild))}y=!1}}async function k(){a=l,(l=document.querySelector("main"))&&!l.isEqualNode(a)&&(a&&f.disconnect(),S(),f.observe(l,{childList:!0,subtree:!0}))}(async()=>{var t;document.getElementById("spicetifyDplaylistDlabels")||((t=document.createElement("style")).id="spicetifyDplaylistDlabels",t.textContent=String.raw`
  :root{--spicetify-playlist-labels-size:28px;--spicetify-playlist-labels-gap:6px;--spicetify-playlist-labels-container-width:calc(var(--spicetify-playlist-labels-size) * 8 + var(--spicetify-playlist-labels-gap) * 7);--spicetify-playlist-labels-column-width:calc(var(--spicetify-playlist-labels-size) * 8 + var(--spicetify-playlist-labels-gap) * 7 + 12px + 120px)}.spicetify-playlist-labels-labels-container{width:var(--spicetify-playlist-labels-container-width);height:var(--row-height);align-items:center;display:flex;overflow:hidden;gap:var(--spicetify-playlist-labels-gap);justify-content:flex-end}.spicetify-playlist-labels-label-container{position:relative;height:calc(var(--row-height) * .5)}.spicetify-playlist-labels-label-container>img{width:calc(var(--row-height) * .5);height:100%;-o-object-fit:cover;object-fit:cover;border-radius:calc(var(--row-height) * .5 * .1)}.main-trackList-trackList.main-trackList-indexable[aria-colcount="4"] .main-trackList-trackListRowGrid{grid-template-columns:[index] var(--tracklist-index-column-width,16px) [first] minmax(120px,var(--col1,4fr)) [var1] minmax(120px,var(--col2,2fr)) [last] minmax(var(--spicetify-playlist-labels-column-width),var(--col2,1fr))}.main-trackList-trackList.main-trackList-indexable[aria-colcount="5"] .main-trackList-trackListRowGrid{grid-template-columns:[index] var(--tracklist-index-column-width,16px) [first] minmax(120px,var(--col1,6fr)) [var1] minmax(120px,var(--col2,4fr)) [var2] minmax(120px,var(--col3,3fr)) [last] minmax(var(--spicetify-playlist-labels-column-width),var(--col4,1fr))!important}.main-trackList-trackList.main-trackList-indexable[aria-colcount="6"] .main-trackList-trackListRowGrid{grid-template-columns:[index] var(--tracklist-index-column-width,16px) [first] minmax(120px,var(--col1,6fr)) [var1] minmax(120px,var(--col2,4fr)) [var2] minmax(120px,var(--col3,3fr)) [var3] minmax(120px,var(--col4,2fr)) [last] minmax(var(--spicetify-playlist-labels-column-width),var(--col5,1fr))!important}
      `.trim(),document.head.appendChild(t))})()}();